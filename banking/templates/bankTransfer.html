{% extends './BaseTemp/base.html' %}
{% load static %}
{% block activeurlT %}
    active
{% endblock %}

{% load humanize %}

{% block content %}


{% for user in context.row_data%}
<div class="page-wrapper">
                                    
    <!-- Page-body start -->
    <div class="page-body">
        <!-- Row start -->
        <div class="row">
            
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-header">
                        <h5 class="card-header-text">Account Number: {{user.account_No}}</h5>
                        <p style="float: right;">Available Balance : <span class="w3-text-green" style="font-size:x-large;">${{user.balance|floatformat:2|intcomma}}</span></span></p>

                    </div>
                </div>
            </div>

{%endfor%}

            <div class="col-lg-6">
                
                <div class="card ">
                    <div class="card-header">
                        {%for content in context.other %}
                            <h4 class="bg-primary">{{content}}</h4>
                        {%endfor%}
                        <h5 class="card-header-text">Make Transfer</h5>
                    </div>
                    <div class="card-block accordion-block">
                        <div class="accordion-box ui-accordion ui-widget ui-helper-reset" id="single-open" role="tablist">
                            <div class="accordion-desc ui-accordion-content ui-corner-bottom ui-helper-reset ui-widget-content ui-accordion-content-active" id="ui-id-2" aria-labelledby="ui-id-1" role="tabpanel" aria-hidden="false">

                                <form method="POST" action="{% url 'add_beneficiary' %}" class="needs-validation" enctype="multipart/form-data"  novalidate>
                                    {% csrf_token %}
                                    <div class="form-group">
                                        <label for="uname">Select Beneficiary:</label>
                                        <select  class="form-control w3-border" id="uname" name="holder" required>
                                            <option disabled="disabled" selected= "false">Select Beneficiary</option>
                                            {% for content in context.row %}
                                            <option>{{content.name}}</option>
                                            {%endfor%}
                                        </select>
                                      </div>
                                    
                                    <div class="form-group">
                                        <label for="uname">Amount :</label>
                                        <input type="text" class="form-control" id="uname" placeholder="Enter amount to transfer" name="amount" required>
                                        
                                    </div>

                                    <button type="submit" class="btn btn-primary">Process Transfer</button>
                                  </form>

                                  <script>
                                    // Disable form submissions if there are invalid fields
                                    (function() {
                                      'use strict';
                                      window.addEventListener('load', function() {
                                        // Get the forms we want to add validation styles to
                                        var forms = document.getElementsByClassName('needs-validation');
                                        // Loop over them and prevent submission
                                        var validation = Array.prototype.filter.call(forms, function(form) {
                                          form.addEventListener('submit', function(event) {
                                            if (form.checkValidity() === false) {
                                              event.preventDefault();
                                              event.stopPropagation();
                                            }
                                            form.classList.add('was-validated');
                                          }, false);
                                        });
                                      }, false);
                                    })();
                                    </script>
                                
                            </div>
                            
                            
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                
                <div class="card ">
                    <div class="card-header">
                        {%for content in context.other1 %}
                            <h4 class="bg-primary">{{content}}</h4>
                        {%endfor%}
                        <h5 class="card-header-text">Add Beneficiary</h5>
                    </div>
                    <div class="card-block accordion-block">
                        <div class="accordion-box ui-accordion ui-widget ui-helper-reset" id="single-open" role="tablist">
                            <div class="accordion-desc ui-accordion-content ui-corner-bottom ui-helper-reset ui-widget-content ui-accordion-content-active" id="ui-id-2" aria-labelledby="ui-id-1" role="tabpanel" aria-hidden="false">

                                <form method="POST" action="{% url 'add_beneficiary' %}" class="needs-validation" enctype="multipart/form-data"  novalidate>
                                    {% csrf_token %}
                                    <div class="form-group">
                                        <label for="uname">Account Type:</label>
                                        <select  class="form-control w3-border" id="uname" name="type" required>
                                            <option disabled="disabled" selected= "false">Account Type</option>
                                            <option>Checkings</option>
                                            <option>Savings</option>
                                        </select>
                                      </div>
                                    
                                    <div class="form-group">
                                      <label for="uname">Account Number:</label>
                                      <input type="number" class="form-control" id="uname" placeholder="Enter account number" name="accountNo" required>
                                      
                                    </div>
                                    <div class="form-group">
                                        <label for="uname">Routine Number:</label>
                                        <input type="number" class="form-control" id="uname" placeholder="Enter Routine number" name="routineNo" required>
                                        
                                    </div>

                                    <div class="form-group">
                                      <label for="pwd">Name :</label>
                                      <input type="text" class="form-control" id="pwd" placeholder="Beneficiary Name" name="name" required>
                                      
                                    </div>
                                    
                                    <button type="submit" class="btn btn-primary">Add Beneficiary</button>
                                  </form>

                                  <script>
                                    // Disable form submissions if there are invalid fields
                                    (function() {
                                      'use strict';
                                      window.addEventListener('load', function() {
                                        // Get the forms we want to add validation styles to
                                        var forms = document.getElementsByClassName('needs-validation');
                                        // Loop over them and prevent submission
                                        var validation = Array.prototype.filter.call(forms, function(form) {
                                          form.addEventListener('submit', function(event) {
                                            if (form.checkValidity() === false) {
                                              event.preventDefault();
                                              event.stopPropagation();
                                            }
                                            form.classList.add('was-validated');
                                          }, false);
                                        });
                                      }, false);
                                    })();
                                    </script>
                                
                            </div>
                            
                            
                        </div>
                    </div>
                </div>
            </div>

            <!--Start Modal -->
       
            
            
            <!--stop modal -->
           
</div>
<!-- Row end -->
<!-- Row start -->

    <!-- Row end -->
</div>
<!-- Page-body end -->
</div>

{%endblock%}